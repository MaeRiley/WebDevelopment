<!DOCTYPE html>
<html lang=""en'>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" conten="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="manifest" href="favicons/site.webmanifest">
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <title>I really want to stay at your house...</title>
    
  </head>

  <body>
    
    <div id="container">
        
        <header class="title"><h1 class="blue">maetech.io</h1><h1 class="white">zone</h1></header>
        
       <div class="mediacontainer"><img id="photos" src="lucyicon.png" alt="Lucy from Cyberpunk Edgerunners"></div>
        
       
        <nav>
          
          <ul class="nav__links">
            
            <li><a href="index.html" target="_self">Home</a></li>
            <li><a href="media.html" target="_self">Media</a></li>
            <li><a href="stream.html" target="_self">Stream</a></li>
            <li><a href="about.html" target="_self">About</a></li>

        </ul>

        </nav>

        
 
        <div class="contentblocks">
          <div class="item1">
            <div class="blinky">
              
              <h2 class="subject">// begin.loadStream //</h2>
            
            </div>
            
            

            <div class="streamplayer">
            
              <video id="video" controls poster="offline.png"></video>
           
            </div>

            <script>
      
      
              var maxRetryTime = 10 * 60 * 1000; // 10 minutes in milliseconds
              var retryTimeout;
              
              
              function loadVideo() {
                  var video = document.getElementById('video');
                  var videoSrc = 'https://awwter.stream:8443/hls/swimming.m3u8';
          
                  if (video.canPlayType('application/vnd.apple.mpegurl')) {
                      video.src = videoSrc;
                      video.muted = true;
                      video.play();
                  } else if (Hls.isSupported()) {
                      var hls = new Hls();
                      hls.attachMedia(video);
                      hls.loadSource(videoSrc);
                      hls.on(Hls.Events.MANIFEST_PARSED, function() {
                          video.muted = true;
                          video.play();
                      });
                  }
              }
          
              // Call the loadVideo function initially
              loadVideo();
          
              // Function to check if the video is playing, and reload if not
              function checkVideo() {
                  var video = document.getElementById('video');
                  if (video.paused || video.ended) {
                      // Reload the video
                      loadVideo();
                  }
              }
          
              // Check the video status every 5 second
              setInterval(checkVideo, 5000);
        
        
              // Set a timer to stop trying after 10 minutes
            retryTimeout = setTimeout(function() {
                clearInterval(checkVideo);
                clearTimeout(retryTimeout);
                }, maxRetryTime);
        
          </script>
      
          </div>
          <!-- <div class="item2">
            <h2></h2>
            <p></p>
          </div>
          <div class="item3">
            <h2></h2>
            <p></p>
          </div>
          <div class="item4">
            <h2></h2>
            <p></p>
          </div>
          <div class="item5">
            <h2></h2>
            <p></p>
          </div>
          <div class="item6">
            <h2></h2>
            <p></p>
          </div> !-->
        </div>
        
        
      

        
        <footer>

          <ul class="footer__links">
            
            <li><a href="index.html" target="_self">Home</a></li>
            <li><a href="media.html" target="_self">Media</a></li>
            <li><a href="stream.html" target="_self">Stream</a></li>
            <li><a href="about.html" target="_self">About</a></li>

        </ul>


        </footer>
        
      </div>
  </body>
</html>